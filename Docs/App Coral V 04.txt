Faça as seguintes atualizações no código:

1. Mostre o índice de músicas como um menu que se abre para escolher a música e depois se recolhe.

2. Mostre os nomes das músicas e respectivos autores na mesma linha.


<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Coral de Homens Guerreiros de Cristo</title>
    <!-- Opcional: Você pode adicionar estilos CSS aqui ou em um arquivo .css separado -->
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        #admin-content { background-color: #e6ffe6; padding: 15px; border-radius: 5px; margin-top: 20px;}
        #login-area { background-color: #fff0e6; padding: 15px; border-radius: 5px; margin-top: 20px;}
        form div { margin-bottom: 10px; }
        label { display: inline-block; width: 120px; vertical-align: top;} /* Ajustado para melhor alinhamento */
        input[type="text"], input[type="email"], input[type="password"], input[type="url"], textarea {
            padding: 8px; border: 1px solid #ccc; border-radius: 4px; width: calc(100% - 130px); /* Ajustado para ocupar mais espaço */
            box-sizing: border-box; /* Garante que padding e border sejam incluídos na largura */
        }
        textarea { resize: vertical; min-height: 100px; }
        button { padding: 10px 15px; background-color: #4CAF50; color: white; border: none; border-radius: 4px; cursor: pointer; }
        button:hover { background-color: #45a049; }
        #admin-logout-button { background-color: #f44336; }
        #admin-logout-button:hover { background-color: #da190b; }
        #login-message, #add-music-message { margin-top: 10px; }
        hr { border: 0; border-top: 1px solid #eee; margin: 20px 0; } /* Estilo para a linha divisória */

        /* Estilos para o novo dropdown de músicas */
        #music-dropdown-container {
            position: relative;
            display: inline-block;
            width: 100%;
            max-width: 400px; /* Limita a largura do dropdown */
            margin-bottom: 20px;
        }
        #music-dropdown-trigger {
            background-color: #f1f1f1;
            padding: 10px;
            border: 1px solid #ccc;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-radius: 4px;
        }
        #music-dropdown-trigger::after {
            content: '▼'; /* Símbolo de seta para baixo */
            margin-left: 10px;
        }
        #music-dropdown-content {
            display: none; /* Oculto por padrão */
            position: absolute;
            background-color: #f9f9f9;
            min-width: 100%;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
            z-index: 1; /* Garante que fique acima de outros elementos */
            border: 1px solid #ddd;
            border-top: none;
            max-height: 300px; /* Altura máxima para a lista rolável */
            overflow-y: auto;
            border-radius: 0 0 4px 4px;
        }
        #music-dropdown-content ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        #music-dropdown-content ul li {
            padding: 10px;
            cursor: pointer;
            border-bottom: 1px solid #eee;
        }
        #music-dropdown-content ul li:last-child {
            border-bottom: none;
        }
        #music-dropdown-content ul li:hover {
            background-color: #e2e2e2;
        }

        /* Estilos para a área de detalhes da música selecionada */
        #selected-music-details {
            border: 1px solid #b3d9ff; /* Cor para indicar que é uma seção de detalhes */
            padding: 20px;
            margin-top: 20px;
            background-color: #e6f7ff;
            border-radius: 8px;
        }
        #selected-music-details h3 {
            color: #004085;
            margin-top: 0;
            margin-bottom: 10px;
        }
        #selected-music-details p {
            margin-bottom: 5px;
            line-height: 1.5;
        }
        #selected-music-details pre {
            background-color: #d1ecf1;
            padding: 10px;
            border-radius: 4px;
            white-space: pre-wrap;
            font-family: monospace;
            font-size: 0.9em;
            margin-top: 10px;
            margin-bottom: 10px;
        }
        #selected-music-details ul {
            list-style: none;
            padding: 0;
            margin-top: 5px;
        }
        #selected-music-details ul li {
            margin-bottom: 3px;
        }
        #selected-music-details ul li a {
            color: #007bff;
            text-decoration: none;
        }
        #selected-music-details ul li a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <h1>CORAL DE HOMENS GUERREIROS DE CRISTO</h1>
    <!-- SEU CONTEÚDO HTML DO APP (carrossel, contador, menus, etc.) VIRÁ AQUI -->

        <div id="carousel-container">
        <!-- HTML para seu carrossel de fotos aqui -->
        <img src="foto1.jpg" alt="Foto do Grupo 1">
        <img src="foto2.jpg" alt="Foto do Grupo 2">
        <!-- Mais fotos -->
    </div>

    <div id="access-counter">
        Contador de Acessos: <span id="counter-display">0</span>
    </div>

    <nav id="main-menu">
        <ul>
            <li><a href="#musicas">Músicas</a></li>
            <li><a href="#artigos">Artigos</a></li>
            <li><a href="#avisos">Avisos</a></li>
            <li><a href="#admin">Área Admin</a></li>
        </ul>
    </nav>

    <main>
        <section id="musicas">
            <h2>Índice de Músicas</h2>
            
            <!-- Novo HTML para o Dropdown de Músicas -->
            <div id="music-dropdown-container">
                <div id="music-dropdown-trigger">Selecione uma Música</div>
                <div id="music-dropdown-content">
                    <ul id="music-list-ul">
                        <!-- Músicas serão carregadas aqui pelo JavaScript -->
                        <li>Carregando músicas...</li>
                    </ul>
                </div>
            </div>

            <!-- Área para exibir os detalhes da música selecionada -->
            <div id="selected-music-details">
                <p>Nenhuma música selecionada. Por favor, selecione uma música no menu acima.</p>
            </div>
        </section>

        <section id="artigos">
            <h2>Artigos e Links</h2>
            <!-- Conteúdo de artigos aqui -->
        </section>

        <section id="avisos">
            <h2>Avisos do Administrador</h2>
            <!-- Conteúdo de avisos aqui -->
        </section>

        <section id="admin">
            <h2>Área Administrativa</h2>
            <!-- HTML para o formulário de login e área de admin -->
            <div id="login-area">
                <h3>Login do Administrador</h3>
                <form id="admin-login-form">
                    <div>
                        <label for="admin-email">Email:</label>
                        <input type="email" id="admin-email" required>
                    </div>
                    <div>
                        <label for="admin-password">Senha:</label>
                        <input type="password" id="admin-password" required>
                    </div>
                    <button type="submit">Entrar</button>
                    <p id="login-message" style="color: red;"></p>
                </form>
            </div>

            <div id="admin-content" style="display: none;">
                <h3>Bem-vindo, Administrador!</h3>
                <p>Aqui você poderá gerenciar músicas, fotos, artigos e avisos.</p>
                <button id="admin-logout-button">Sair</button>

                <hr style="margin: 20px 0;"> <!-- Linha divisória para organizar -->

                <h4>Adicionar Nova Música</h4>
                <form id="add-music-form">
                    <div>
                        <label for="music-title">Título:</label>
                        <input type="text" id="music-title" required>
                    </div>
                    <div>
                        <label for="music-author">Autor/Compositor:</label>
                        <input type="text" id="music-author">
                    </div>
                    <div>
                        <label for="music-lyrics">Letra da Música:</label>
                        <textarea id="music-lyrics" rows="10" required></textarea>
                    </div>
                    <div>
                        <label for="video-link1">Link de Vídeo 1:</label>
                        <input type="url" id="video-link1">
                    </div>
                    <div>
                        <label for="video-link2">Link de Vídeo 2:</label>
                        <input type="url" id="video-link2">
                    </div>
                    <button type="submit">Adicionar Música</button>
                    <p id="add-music-message" style="color: green;"></p>
                </form>

                <!-- FUTURAS FERRAMENTAS DE ADMIN AQUI (gerenciar carrossel, artigos, avisos) -->
            </div>
        </section>
    </main>


    <!-- IMPORTANTE: A TAG SCRIPT DEVE TER type="module" -->
    <script type="module">
        // Importe as funções necessárias para os serviços do Firebase
        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-app.js";
        // Importações para Firestore: getFirestore, doc, getDoc, updateDoc, setDoc, increment, collection, addDoc, query, orderBy, onSnapshot
        import { getFirestore, doc, getDoc, updateDoc, setDoc, increment, collection, addDoc, query, orderBy, onSnapshot } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-firestore.js";
        // Importações para Auth: getAuth, signInWithEmailAndPassword, signOut, onAuthStateChanged
        import { getAuth, signInWithEmailAndPassword, signOut, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-auth.js";
        import { getStorage } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-storage.js";
        // import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-analytics.js"; // Opcional se for usar Analytics

        // Sua configuração do app web do Firebase
        const firebaseConfig = {
          apiKey: "AIzaSyAywv9Aj6TXKFwCxbYpOnEY3Ymtf4o77ic",
          authDomain: "coral-guerreiros.firebaseapp.com",
          projectId: "coral-guerreiros",
          storageBucket: "coral-guerreiros.firebasestorage.app",
          messagingSenderId: "117520114132",
          appId: "1:117520114132:web:71e40037c8261789ffb641",
          measurementId: "G-2GH6LGCJ80" // Este é para Analytics. Mantenha se for usar, ou remova.
        };

        // Inicialize o Firebase
        const app = initializeApp(firebaseConfig);

        // Obtenha uma referência para cada serviço que você vai usar
        const db = getFirestore(app);        // Para Cloud Firestore
        const auth = getAuth(app);          // Para Firebase Authentication
        const storage = getStorage(app);    // Para Cloud Storage
        // const analytics = getAnalytics(app); // Para Google Analytics (descomente se for usar)

        console.log("Firebase conectado, Firestore, Auth e Storage prontos!");

        // === Lógica do Contador de Acessos ===
        const counterRef = doc(db, "appInfo", "acessos"); // Referência ao documento 'acessos' na coleção 'appInfo'
        const counterDisplayElement = document.getElementById("counter-display"); // O elemento <span> no seu HTML

        if (counterDisplayElement) { // Garante que o elemento existe no HTML
            getDoc(counterRef)
                .then((docSnap) => {
                    let currentCount = 0;
                    if (docSnap.exists()) {
                        // Se o documento existe, pegue o valor atual e incremente
                        currentCount = docSnap.data().count || 0;
                        updateDoc(counterRef, {
                            count: increment(1) // Incrementa atomicamente o contador
                        });
                    } else {
                        // Se o documento não existe (primeira vez), crie-o com 1
                        setDoc(counterRef, {
                            count: 1
                        });
                        currentCount = 0; // O contador inicial será 1 após esta visita (o display mostra currentCount + 1)
                    }

                    // Atualiza o display imediatamente para a visita atual + 1
                    counterDisplayElement.textContent = currentCount + 1;

                })
                .catch((error) => {
                    console.error("Erro ao gerenciar contador de acessos:", error);
                });
        } else {
            console.warn("Elemento HTML 'counter-display' não encontrado. O contador de acessos não será exibido.");
        }
        // === Fim da Lógica do Contador de Acessos ===

        // === Lógica de Login do Administrador ===
        const adminLoginForm = document.getElementById("admin-login-form");
        const adminEmailInput = document.getElementById("admin-email");
        const adminPasswordInput = document.getElementById("admin-password");
        const loginMessage = document.getElementById("login-message");
        const loginArea = document.getElementById("login-area");
        const adminContent = document.getElementById("admin-content");
        const adminLogoutButton = document.getElementById("admin-logout-button");

        // Função para verificar o estado da autenticação (se o usuário já está logado)
        onAuthStateChanged(auth, (user) => { // 'auth' é a instância do Firebase Auth
            if (user) {
                // Usuário está logado
                loginArea.style.display = "none";
                adminContent.style.display = "block";
                console.log("Usuário logado:", user.email);
            } else {
                // Usuário não está logado
                loginArea.style.display = "block";
                adminContent.style.display = "none";
                console.log("Nenhum usuário logado.");
            }
        });

        // Lidar com o envio do formulário de login
        if (adminLoginForm) {
            adminLoginForm.addEventListener("submit", async (e) => { // 'async' para usar await
                e.preventDefault(); // Impede o recarregamento da página

                const email = adminEmailInput.value;
                const password = adminPasswordInput.value;

                try {
                    await signInWithEmailAndPassword(auth, email, password); // 'auth' é a instância do Firebase Auth
                    // Login bem-sucedido
                    loginMessage.textContent = "Login realizado com sucesso!";
                    loginMessage.style.color = "green";
                    adminEmailInput.value = ""; // Limpa os campos
                    adminPasswordInput.value = "";
                    // onAuthStateChanged já cuidará de mostrar o adminContent
                } catch (error) {
                    // Ocorreu um erro
                    let errorMessage = "";
                    switch (error.code) {
                        case "auth/invalid-email":
                            errorMessage = "Email inválido.";
                            break;
                        case "auth/user-not-found":
                            errorMessage = "Usuário não encontrado.";
                            break;
                        case "auth/wrong-password":
                            errorMessage = "Senha incorreta.";
                            break;
                        case "auth/invalid-credential": // Erro comum para email/senha inválidos em versões mais novas
                            errorMessage = "Email ou senha inválidos.";
                            break;
                        case "auth/too-many-requests":
                            errorMessage = "Muitas tentativas de login. Tente novamente mais tarde.";
                            break;
                        default:
                            errorMessage = "Erro de login: " + error.message;
                            break;
                    }
                    loginMessage.textContent = errorMessage;
                    loginMessage.style.color = "red";
                    console.error("Erro de login:", error);
                }
            });
        }

        // Lidar com o botão de Sair
        if (adminLogoutButton) {
            adminLogoutButton.addEventListener("click", async () => { // 'async' para usar await
                try {
                    await signOut(auth); // 'auth' é a instância do Firebase Auth
                    console.log("Usuário deslogado.");
                    // onAuthStateChanged já cuidará de mostrar o loginArea
                    loginMessage.textContent = "Você foi desconectado.";
                    loginMessage.style.color = "green";
                } catch (error) {
                    console.error("Erro ao fazer logout:", error);
                    loginMessage.textContent = "Erro ao fazer logout: " + error.message;
                    loginMessage.style.color = "red";
                }
            });
        }
        // === Fim da Lógica de Login do Administrador ===

        // === Lógica para Adicionar Nova Música ===
        const addMusicForm = document.getElementById("add-music-form");
        const musicTitleInput = document.getElementById("music-title");
        const musicAuthorInput = document.getElementById("music-author");
        const musicLyricsTextarea = document.getElementById("music-lyrics");
        const videoLink1Input = document.getElementById("video-link1");
        const videoLink2Input = document.getElementById("video-link2");
        const addMusicMessage = document.getElementById("add-music-message");

        if (addMusicForm) {
            addMusicForm.addEventListener("submit", async (e) => {
                e.preventDefault(); // Impede o recarregamento da página

                const title = musicTitleInput.value.trim(); // Trim para remover espaços em branco extras
                const author = musicAuthorInput.value.trim() || "Desconhecido"; // Default se vazio
                const lyrics = musicLyricsTextarea.value.trim();
                const videoLink1 = videoLink1Input.value.trim();
                const videoLink2 = videoLink2Input.value.trim();

                // Cria um array de links de vídeo, incluindo apenas os que não estão vazios
                const videoLinks = [];
                if (videoLink1) videoLinks.push(videoLink1);
                if (videoLink2) videoLinks.push(videoLink2);

                if (!title || !lyrics) {
                    addMusicMessage.textContent = "Título e Letra são campos obrigatórios.";
                    addMusicMessage.style.color = "red";
                    return;
                }

                try {
                    // Adiciona um novo documento à coleção 'musicas' no Firestore
                    await addDoc(collection(db, "musicas"), {
                        titulo: title,
                        autor: author,
                        letra: lyrics,
                        linksVideos: videoLinks,
                        timestamp: new Date().toISOString() // Adiciona um timestamp ISO para ordenação e compatibilidade
                    });

                    addMusicMessage.textContent = "Música adicionada com sucesso!";
                    addMusicMessage.style.color = "green";
                    // Limpa o formulário após o sucesso
                    addMusicForm.reset();
                    musicTitleInput.focus(); // Coloca o foco no primeiro campo
                } catch (error) {
                    console.error("Erro ao adicionar música:", error);
                    addMusicMessage.textContent = "Erro ao adicionar música: " + error.message;
                    addMusicMessage.style.color = "red";
                }
            });
        }
        // === Fim da Lógica para Adicionar Nova Música ===

        // === Lógica para Exibir Músicas como Dropdown ===
        const musicDropdownTrigger = document.getElementById("music-dropdown-trigger");
        const musicDropdownContent = document.getElementById("music-dropdown-content");
        const musicListUl = document.getElementById("music-list-ul");
        const selectedMusicDetailsDiv = document.getElementById("selected-music-details");

        // Armazena todas as músicas para acesso rápido sem precisar re-consultar o Firestore
        let allMusicData = {};

        if (musicDropdownTrigger && musicDropdownContent && musicListUl && selectedMusicDetailsDiv) {
            // Alterna a visibilidade do dropdown ao clicar no trigger
            musicDropdownTrigger.addEventListener("click", () => {
                musicDropdownContent.style.display = (musicDropdownContent.style.display === "block") ? "none" : "block";
            });

            // Fecha o dropdown se clicar fora dele
            window.addEventListener("click", (e) => {
                if (!musicDropdownContainer.contains(e.target)) {
                    musicDropdownContent.style.display = "none";
                }
            });

            // Cria uma consulta (query) para a coleção 'musicas', ordenada por título
            const q = query(collection(db, "musicas"), orderBy("titulo", "asc"));

            // Escuta por mudanças em tempo real na coleção 'musicas'
            onSnapshot(q, (querySnapshot) => {
                musicListUl.innerHTML = ""; // Limpa a lista antes de adicionar os itens atualizados
                allMusicData = {}; // Limpa os dados armazenados

                if (querySnapshot.empty) {
                    musicListUl.innerHTML = "<li>Nenhuma música encontrada.</li>";
                    selectedMusicDetailsDiv.innerHTML = "<p>Nenhuma música encontrada.</p>";
                    musicDropdownTrigger.textContent = "Nenhuma Música";
                    return;
                }

                querySnapshot.forEach((doc) => {
                    const music = doc.data();
                    const musicId = doc.id;
                    allMusicData[musicId] = music; // Armazena a música completa pelo seu ID

                    const listItem = document.createElement("li");
                    listItem.textContent = `${music.titulo} - ${music.autor || 'Desconhecido'}`;
                    listItem.dataset.musicId = musicId; // Armazena o ID do documento no elemento HTML

                    // Adiciona um evento de clique para mostrar os detalhes da música
                    listItem.addEventListener("click", () => {
                        const selectedId = listItem.dataset.musicId;
                        const selectedMusic = allMusicData[selectedId];
                        
                        if (selectedMusic) {
                            // Atualiza o texto do trigger com a música selecionada
                            musicDropdownTrigger.textContent = `${selectedMusic.titulo} - ${selectedMusic.autor || 'Desconhecido'}`;
                            
                            // Gera o HTML para os detalhes da música
                            let videoLinksHtml = '';
                            if (selectedMusic.linksVideos && selectedMusic.linksVideos.length > 0) {
                                videoLinksHtml += '<p><strong>Vídeos Relacionados:</strong></p><ul>';
                                selectedMusic.linksVideos.forEach(link => {
                                    videoLinksHtml += `<li><a href="${link}" target="_blank" rel="noopener noreferrer">${link}</a></li>`;
                                });
                                videoLinksHtml += '</ul>';
                            }

                            selectedMusicDetailsDiv.innerHTML = `
                                <h3>${selectedMusic.titulo}</h3>
                                <p><strong>Autor/Compositor:</strong> ${selectedMusic.autor || 'Desconhecido'}</p>
                                <pre>${selectedMusic.letra}</pre>
                                ${videoLinksHtml}
                            `;
                            musicDropdownContent.style.display = "none"; // Fecha o dropdown
                        }
                    });
                    musicListUl.appendChild(listItem);
                });

                // Se houver músicas, selecione a primeira por padrão (ou mantenha a selecionada)
                if (querySnapshot.docs.length > 0) {
                    // Seleciona a primeira música da lista para exibir os detalhes automaticamente na primeira carga
                    // ou se a lista for atualizada.
                    const firstMusicId = querySnapshot.docs[0].id;
                    const firstMusic = allMusicData[firstMusicId];
                    if (firstMusic && !musicDropdownTrigger.dataset.selectedMusicId) { // Só se não houver música já selecionada
                        musicDropdownTrigger.textContent = `${firstMusic.titulo} - ${firstMusic.autor || 'Desconhecido'}`;
                        musicDropdownTrigger.dataset.selectedMusicId = firstMusicId; // Guarda qual música está selecionada no trigger

                        let videoLinksHtml = '';
                        if (firstMusic.linksVideos && firstMusic.linksVideos.length > 0) {
                            videoLinksHtml += '<p><strong>Vídeos Relacionados:</strong></p><ul>';
                            firstMusic.linksVideos.forEach(link => {
                                videoLinksHtml += `<li><a href="${link}" target="_blank" rel="noopener noreferrer">${link}</a></li>`;
                            });
                            videoLinksHtml += '</ul>';
                        }
                        selectedMusicDetailsDiv.innerHTML = `
                            <h3>${firstMusic.titulo}</h3>
                            <p><strong>Autor/Compositor:</strong> ${firstMusic.autor || 'Desconhecido'}</p>
                            <pre>${firstMusic.letra}</pre>
                            ${videoLinksHtml}
                        `;
                    }
                }

            }, (error) => {
                console.error("Erro ao carregar músicas:", error);
                musicListUl.innerHTML = `<li style="color: red;">Erro ao carregar músicas: ${error.message}</li>`;
                selectedMusicDetailsDiv.innerHTML = `<p style="color: red;">Erro ao carregar músicas: ${error.message}</p>`;
            });
        } else {
            console.warn("Elementos HTML do dropdown de músicas não encontrados.");
        }
        // === Fim da Lógica para Exibir Músicas como Dropdown ===

    </script>

    <!-- Se você tiver outros arquivos JavaScript para sua lógica de app, pode importá-los aqui TAMBÉM como módulos -->
    <!-- Por exemplo: <script type="module" src="seu-app-script.js"></script> -->

</body>
</html>
